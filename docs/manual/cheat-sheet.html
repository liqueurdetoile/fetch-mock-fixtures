<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../">
  <title data-ice="title">Manual | Fetch-mock-fixtures | Fetch API for testing</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<link rel="stylesheet" href="./inject/css/0-styles.css"><script src="./inject/script/0-docs.js"></script><meta name="description" content="Fixtures based mocker for fetch API with BDD style configuration"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="Fetch-mock-fixtures | Fetch API for testing"><meta property="twitter:description" content="Fixtures based mocker for fetch API with BDD style configuration"></head>
<body class="layout-container manual-root" data-ice="rootContainer">

<header>
  <a href="./" style="display: flex; align-items: center;"><img src="./image/brand_logo.png" style="width:34px;"></a>
  <a href="./manual/index.html" data-ice="manualHeaderLink">Manual</a>
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  <a href="test.html" data-ice="testLink">Test</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/liqueurdetoile/fetch-mock-fixtures.git"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div class="manual-toc-root">
  
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/getting_started.html"><a href="manual/getting_started.html" data-ice="link">Getting started</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/server.html"><a href="manual/server.html" data-ice="link">Server control, configuration and history</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/server.html"><a href="manual/server.html#server-control" data-ice="link">Server control</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/server.html"><a href="manual/server.html#adding-fixtures-to-server" data-ice="link">Adding fixtures to server</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/server.html"><a href="manual/server.html#logging-and-verbose-mode" data-ice="link">Logging and verbose mode</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/server.html"><a href="manual/server.html#error-management" data-ice="link">Error management</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/server.html"><a href="manual/server.html#server--39-s-history" data-ice="link">Server&apos;s history</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/response-configuration.html"><a href="manual/response-configuration.html" data-ice="link">Response configuration</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/response-configuration.html"><a href="manual/response-configuration.html#configure-response" data-ice="link">Configure response</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/response-configuration.html"><a href="manual/response-configuration.html#default-response-values" data-ice="link">Default response values</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/response-configuration.html"><a href="manual/response-configuration.html#response-configuration-persistence" data-ice="link">Response configuration persistence</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/response-configuration.html"><a href="manual/response-configuration.html#available-response-options" data-ice="link">Available response options</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/response-configuration.html"><a href="manual/response-configuration.html#using-wrappers" data-ice="link">Using wrappers</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/response-configuration.html"><a href="manual/response-configuration.html#using-patterns" data-ice="link">Using patterns</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/presets.html"><a href="manual/presets.html" data-ice="link">Presets</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/presets.html"><a href="manual/presets.html#using-presets" data-ice="link">Using presets</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/presets.html"><a href="manual/presets.html#local-presets" data-ice="link">Local presets</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/presets.html"><a href="manual/presets.html#adding-editing-a-local-preset" data-ice="link">Adding/editing a local preset</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/presets.html"><a href="manual/presets.html#removing-preset" data-ice="link">Removing preset</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/presets.html"><a href="manual/presets.html#using-global-presets" data-ice="link">Using global presets</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/presets.html"><a href="manual/presets.html#global--code-presets--code--singleton-exports" data-ice="link">Global presets singleton exports</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/presets.html"><a href="manual/presets.html#register-unregister-a-local-preset-as-global" data-ice="link">Register/unregister a local preset as global</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/presets.html"><a href="manual/presets.html#global-presets-availability" data-ice="link">Global presets availability</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/presets.html"><a href="manual/presets.html#built-in-presets" data-ice="link">Built-in presets</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/fixtures.html"><a href="manual/fixtures.html" data-ice="link">Fixture in-depth</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/fixtures.html"><a href="manual/fixtures.html#request-processing" data-ice="link">Request processing</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/fixtures.html"><a href="manual/fixtures.html#fixture-lifecycle" data-ice="link">Fixture lifecycle</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/fixtures.html"><a href="manual/fixtures.html#fixture-hooks-and-body-callback" data-ice="link">Fixture hooks and body callback</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/fixtures.html"><a href="manual/fixtures.html#-code-before--code--hook" data-ice="link">before hook</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/fixtures.html"><a href="manual/fixtures.html#body-callback" data-ice="link">Body callback</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/fixtures.html"><a href="manual/fixtures.html#-code-after--code--hook" data-ice="link">after hook</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/fixtures.html"><a href="manual/fixtures.html#hooks-scope" data-ice="link">Hooks scope</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/fixtures.html"><a href="manual/fixtures.html#adding-fixtures-to-server" data-ice="link">Adding fixtures to server</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/requests-matcher.html"><a href="manual/requests-matcher.html" data-ice="link">Requests matcher</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/requests-matcher.html"><a href="manual/requests-matcher.html#matching-request-properties" data-ice="link">Matching request properties</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/requests-matcher.html"><a href="manual/requests-matcher.html#matching-calls-count" data-ice="link">Matching calls count</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/cheat-sheet.html"><a href="manual/cheat-sheet.html" data-ice="link">Full cheat sheet</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/cheat-sheet.html"><a href="manual/cheat-sheet.html#creating-a-server-instance" data-ice="link">Creating a server instance</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/cheat-sheet.html"><a href="manual/cheat-sheet.html#response-setup--preset-or-fixture-" data-ice="link">Response setup (preset or fixture)</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/cheat-sheet.html"><a href="manual/cheat-sheet.html#ordered-responses--fixture-" data-ice="link">Ordered responses (fixture)</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/cheat-sheet.html"><a href="manual/cheat-sheet.html#request-matcher-setup--fixture-" data-ice="link">Request matcher setup (fixture)</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/cheat-sheet.html"><a href="manual/cheat-sheet.html#starting-configuration" data-ice="link">Starting configuration</a></li>
</ul>
  </div>
</div>
</nav>

<div class="content" data-ice="content"><div class="github-markdown" data-ice="content"><h1 id="full-cheat-sheet">Full cheat sheet</h1><h2 id="creating-a-server-instance">Creating a server instance</h2><pre><code class="lang-javascript"><code class="source-code prettyprint">import {Server} from &apos;fetch-mock-fixtures&apos;;

const server = new Server();</code>
</code></pre>
<h2 id="response-setup--preset-or-fixture-">Response setup (preset or fixture)</h2><pre><code class="lang-javascript"><code class="source-code prettyprint">server.preset(string &lt;preset name&gt;) | server.respond | server.fallback
  .with // Syntactic sugar for human readability
  .and // Syntactic sugar for human readability  
  .after(Function &lt;after&gt;) // After callback
  .before(Function &lt;before&gt;) // Before callback
  .body(String|Function &lt;response body&gt;) // Preset body content
  .delay(Number &lt;delay&gt;) // Preset delay response
  .header(String &lt;name&gt;, String &lt;value&gt; [, Boolean &lt;append=false&gt;]) // Configure single header
  .headers(Object|Headers &lt;headers&gt;) // Configure bunch of headers at once
  .pattern(String &lt;pattern&gt;) // Pattern string for parameters analysis
  .set(Object &lt;set-up object&gt;) // Set up any options at once through an object
  .status(Number &lt;status&gt;) // Response status code
  .statusText(String &lt;statusText&gt;) // Response status text
  .wrapper(Function &lt;wrapper&gt;) // Wrapper function applied to body</code>
</code></pre>
<h2 id="ordered-responses--fixture-">Ordered responses (fixture)</h2><pre><code class="lang-javascript"><code class="source-code prettyprint">server.respond
  .to // Syntactic sugar for human readability
  .firstCall([Boolean &lt;own = false&gt;]) // Target local/global first call
  .secondCall([Boolean &lt;own = false&gt;]) // Target local/global second call
  .thirdCall([Boolean &lt;own = false&gt;]) // Target local/global third call
  .call(Number &lt;n&gt;, [Boolean &lt;own = false&gt;]) // target nth local/global call</code>
</code></pre>
<h2 id="request-matcher-setup--fixture-">Request matcher setup (fixture)</h2><p>For request parts details available for comparison, see <a href="https://github.com/unshiftio/url-parse#readme">url-parse</a> page.</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">server.on | server.when
  .and // Syntactic sugar for human readability
  .is // Syntactic sugar for human readability
  .respond // End request matcher setup and switch to response configuration
  .not // Negate result of the next matching evaluation
   // Target the body and, optionnaly, define a type for the body processor
  .body([String &lt;type=text&gt;])
  .header(String &lt;name&gt;) // Target named header for matching
   // Tells processor to evaluate equality based on expected value
  .equal(Array|Boolean|Function|Number|Object|RegExp|String expected)
  .headers
  .query
  .slashes
  .auth
  .cache
  .credentials
  .destination
  .hash
  .href
  .host
  .hostname
  .integrity
  .mode
  .method
  .password
  .pathname
  .port
  .protocol
  .redirect
  .referrer
  .referrerPolicy
  .url
  .username</code>
</code></pre>
<h2 id="starting-configuration">Starting configuration</h2><ul>
<li><code>server.preset()</code> will start a preset configuration</li>
<li><code>server.on</code> or <code>server.when</code> will start a request matcher configuration</li>
<li><code>server.respond</code> or <code>server.fallback</code> will start a response configuration</li>
</ul>
<p>All configuration methods are chainable, though one cannot configure a preset and a fixture in the same chain :</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import {Server} from &apos;fetch-mock-fixtures&apos;;

const server = new Server();

// Configure the success preset and register it globally
server  
  .preset(&apos;success&apos;)
  .header(&apos;content-type&apos;, &apos;application/json&apos;)
  .wrapper(data =&gt; ({success: true, data}))
  .register()

server
  // Configuration of fixture with matching request
  .on
    .pathname.equal(&apos;/api/v1/users&apos;)
    .and.method.equal(&apos;POST&apos;)
  .respond
    .with.preset(&apos;success&apos;)
    .and.body({token: &apos;123&apos;})
  // Configuration of fallback fixture
  .fallback
    .throw(&apos;failed&apos;)</code>
</code></pre>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
